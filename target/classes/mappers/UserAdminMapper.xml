<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.javagreenS_ljs.dao.UserAdminDAO">

	<sql id="userAdminWhere">
		<where>
			<if test="search != null and search != ''">
				${search} = #{searchValue}
			</if>
		</where>
		
		<if test="startIndexNo > 0">
			LIMIT #{startIndexNo}, #{pageSize}
		</if>
	</sql>

	<select id="getUserListTotalCnt" resultType="Integer">
		SELECT COUNT(user_idx) FROM ga_user
		<include refid="userAdminWhere"></include>
	</select>
	
	<select id="getUserList" parameterType="com.spring.javagreenS_ljs.vo.UserVO" resultType="com.spring.javagreenS_ljs.vo.UserVO">
		SELECT * FROM ga_user
		<include refid="userAdminWhere"></include>
	</select>
	
</mapper>